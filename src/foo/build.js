const fs = require('fs-extra')
const path = require('path')
const component = require('./component')
const Mustache = require('mustache')

// const fileString = Mustache.render(template, {
//   paths,
//   componentName: getComponentName(destPath),
// });

var template = `
import React from 'react'
import Icon, { IconProps } from './Icon'

const {{ name }} = (props: IconProps) => (
  <Icon
    {...props}
    path="{{ path }}"
  />
)

export default {{ name }}

`

const iconsArray = [
  {
    name: 'NoEmployment',
    path:
      'M19 7c1.1 0 2 .9 2 2v9c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h14zm-1 2H6c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h12c.6 0 1-.4 1-1v-7c0-.6-.4-1-1-1zm-2-6c1.1 0 2 .9 2 2v1h-2V5H8v1H6V5c0-1.1.9-2 2-2h8zm-1.8 8.2c.2.2.2.5 0 .7l-1.3 1.4 1.4 1.4c.2.2.2.5 0 .7-.2.2-.5.1-.7 0L12 13.9l-1.5 1.5c-.2.2-.5.2-.7 0-.2-.2-.2-.5 0-.7l1.4-1.4L9.8 12c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.5 1.5 1.5-1.5c.2-.2.5-.2.7-.1z'
  },
  {
    name: 'Cancel',
    path:
      'M12,3 C16.9705627,3 21,7.02943725 21,12 C21,16.9705627 16.9705627,21 12,21 C7.02943725,21 3,16.9705627 3,12 C3,7.02943725 7.02943725,3 12,3 Z M17.6063605,7.80779665 L7.8089036,17.60531 C8.97638273,18.4815869 10.4276504,19 12,19 C15.8659932,19 19,15.8659932 19,12 C19,10.4276504 18.4815869,8.97638273 17.6063605,7.80779665 Z M12,5 C8.13400675,5 5,8.13400675 5,12 C5,13.5723496 5.51841309,15.0236173 6.3936395,16.1922034 L16.1921055,6.39368099 C15.0236173,5.51841309 13.5723496,5 12,5 Z'
  },
  {
    name: 'StartApplicationsFill',
    path:
      'm17.7781746 14.8284271 2.8284271 2.8284271-5.6568542 5.6568543-3.5355339.7071068.7071067-3.5355339zm.2218254-14.8284271c1.6568542 0 3 1.34314575 3 3l.0006792 7.4034802c-.6725865-.2021756-1.4316775-.0390574-1.9651077.4899975l-8.6215734 8.5508557-.6269981 2.5556666h-3.787c-1.65685425 0-3-1.3431458-3-3v-16c0-1.65685425 1.34314575-3 3-3zm1.1923882 13.4142136c.7810485-.7810486 2.0473785-.7810486 2.8284271 0 .7810486.7810485.7810486 2.0473785 0 2.8284271l-.7071068.7071068-2.8284271-2.8284272zm-6.1923882-5.4142136h-5c-.55228475 0-1 .44771525-1 1 0 .51283584.38604019.93550716.88337887.99327227l.11662113.00672773h5c.5522847 0 1-.44771525 1-1s-.4477153-1-1-1zm3-4h-8c-.55228475 0-1 .44771525-1 1 0 .51283584.38604019.93550716.88337887.99327227l.11662113.00672773h8c.5522847 0 1-.44771525 1-1s-.4477153-1-1-1z'
  }
]

const BUILD_PATH = path.join(__dirname, '..', 'foo')

iconsArray.map(icon => {
  const OUTPUT_FILE = path.join(BUILD_PATH, `finished/${icon.name}.tsx`)
  const rendered = Mustache.render(template, { name: icon.name, path: icon.path })
  fs.outputFile(OUTPUT_FILE, rendered)
})
